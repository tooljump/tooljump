"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[584],{28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>l});var r=o(96540);const i={},t=r.createContext(i);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(t.Provider,{value:n},e.children)}},90619:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"deploying","title":"Deploying ToolJump","description":"Complete guide to deploying ToolJump in production environments including Docker, Kubernetes, and cloud deployment strategies for enterprise teams.","source":"@site/docs/deploying.md","sourceDirName":".","slug":"/deploying","permalink":"/docs/deploying","draft":false,"unlisted":false,"editUrl":"https://github.com/tooljump/tooljump/tree/main/docs/docs/deploying.md","tags":[],"version":"current","frontMatter":{"id":"deploying","title":"Deploying ToolJump","sidebar_label":"Deploying","keywords":["deploying tooljump","production deployment","docker deployment","kubernetes","self-hosted deployment"],"description":"Complete guide to deploying ToolJump in production environments including Docker, Kubernetes, and cloud deployment strategies for enterprise teams."},"sidebar":"docsSidebar","previous":{"title":"Connecting your tools","permalink":"/docs/connecting-your-tools-resources"},"next":{"title":"Security","permalink":"/docs/security"}}');var i=o(74848),t=o(28453);const s={id:"deploying",title:"Deploying ToolJump",sidebar_label:"Deploying",keywords:["deploying tooljump","production deployment","docker deployment","kubernetes","self-hosted deployment"],description:"Complete guide to deploying ToolJump in production environments including Docker, Kubernetes, and cloud deployment strategies for enterprise teams."},l="Deploying ToolJump",a={},c=[{value:"VPS Deployment",id:"vps-deployment",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Basic Setup",id:"basic-setup",level:3},{value:"Security Considerations",id:"security-considerations",level:3},{value:"Docker Deployment",id:"docker-deployment",level:2},{value:"Dockerfile Template",id:"dockerfile-template",level:3},{value:"Deployment Steps",id:"deployment-steps",level:3},{value:"Benefits of Docker Deployment",id:"benefits-of-docker-deployment",level:3},{value:"Kubernetes Deployment",id:"kubernetes-deployment",level:2},{value:"Prerequisites",id:"prerequisites-1",level:3},{value:"Basic Deployment",id:"basic-deployment",level:3},{value:"Deployment Steps",id:"deployment-steps-1",level:3},{value:"Ingress Configuration",id:"ingress-configuration",level:3},{value:"Benefits of Kubernetes Deployment",id:"benefits-of-kubernetes-deployment",level:3}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"deploying-tooljump",children:"Deploying ToolJump"})}),"\n",(0,i.jsx)(n.p,{children:"This guide covers deploying ToolJump in various environments, from local development to production deployments."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["One of the key differences between the local and production deployment is the integration adapter you use. Locally, it is perfectly fine to use the ",(0,i.jsx)(n.code,{children:"@tooljump/integration-fs"})," adapter which reads the integrations from the disk, however when running in production, we ",(0,i.jsx)(n.strong,{children:"strongly"})," recommend using the ",(0,i.jsx)(n.code,{children:"@tooljump/integration-github"}),", which fetches the integrations from Github. Using the Github adapters ensure you can store your integrations in source control and apply the usual code review process, just like you do for every other project in your organisation"]})}),"\n",(0,i.jsxs)(n.p,{children:["Learn more about ",(0,i.jsx)(n.a,{href:"/docs/server-architecture",children:"integrations architecture"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"As seen in the snippet below, the GithubIntegrations requires 3 parameters:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"accessToken - a personal access token designed to have read only access to the repository holding your integrations files"}),"\n",(0,i.jsxs)(n.li,{children:["repoUrl - the full path of the Github repo, in the format of ",(0,i.jsx)(n.a,{href:"https://github.com/my-org/my-repo",children:"https://github.com/my-org/my-repo"})]}),"\n",(0,i.jsx)(n.li,{children:"repoPath - the relative path to the folder where the integrations are stored (eg: integrations)"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"import { GithubIntegrations } from '@tooljump/integrations-github';\n...\nintegrations: new GithubIntegrations({\n    logger,\n    config,\n    accessToken: process.env.GITHUB_TOKEN!,\n    repoUrl: process.env.GITHUB_REPO_URL!,\n    repoPath: process.env.GITHUB_REPO_PATH!,\n    enableWatching: true,\n    watchInterval: 300,\n}),\n...\n"})}),"\n",(0,i.jsxs)(n.p,{children:["We recommend creating a fine grained personal access token, limiting the scope only to the repository holding your integrations and only to ",(0,i.jsx)(n.strong,{children:"Repository permissions \u2192 Contents: Read-only"})," permission."]}),"\n",(0,i.jsx)(n.h2,{id:"vps-deployment",children:"VPS Deployment"}),"\n",(0,i.jsx)(n.p,{children:"For deploying ToolJump on a virtual private server (VPS), you can run it directly as a Node.js application without Docker."}),"\n",(0,i.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Node.js installed on your VPS"}),"\n",(0,i.jsx)(n.li,{children:"A domain name pointing to your server's IP address"}),"\n",(0,i.jsx)(n.li,{children:"SSL certificate for HTTPS (recommended using Let's Encrypt)"}),"\n",(0,i.jsx)(n.li,{children:"The server needs to have outgoing network access (to connect to Github and other tools), as well as incoming access to be able to serve requests"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Clone your ToolJump repository to the server"}),"\n",(0,i.jsxs)(n.li,{children:["Install dependencies using ",(0,i.jsx)(n.code,{children:"yarn install"})]}),"\n",(0,i.jsx)(n.li,{children:"Configure environment variables for your integrations"}),"\n",(0,i.jsxs)(n.li,{children:["Start the server with ",(0,i.jsx)(n.code,{children:"yarn start"})," or ",(0,i.jsx)(n.code,{children:"node dist/index.js"}),". Consider using pm2 or systemd to keep your node server online."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure your server is properly configured with a firewall"}),"\n",(0,i.jsx)(n.li,{children:"Use HTTPS to secure communication between the extension and server"}),"\n",(0,i.jsx)(n.li,{children:"Consider using a reverse proxy like Nginx for additional security and performance"}),"\n",(0,i.jsx)(n.li,{children:"Keep your server and dependencies updated regularly"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Ensure your deployment follows our ",(0,i.jsx)(n.a,{href:"/docs/security",children:"security best practices"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The ToolJump server runs as an Express web server, so make sure to expose the appropriate port (typically 3000) and configure your domain to point to your server's public IP address."}),"\n",(0,i.jsx)(n.h2,{id:"docker-deployment",children:"Docker Deployment"}),"\n",(0,i.jsx)(n.p,{children:"For containerized deployments, you can use Docker to package and run ToolJump with all its dependencies."}),"\n",(0,i.jsx)(n.h3,{id:"dockerfile-template",children:"Dockerfile Template"}),"\n",(0,i.jsxs)(n.p,{children:["Create a ",(0,i.jsx)(n.code,{children:"Dockerfile"})," in your ToolJump project root:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dockerfile",children:'# Use Node.js LTS as base image\nFROM node:20-alpine\n\n# Set working directory\nWORKDIR /app\n\n# Copy package files\nCOPY package.json yarn.lock ./\nCOPY packages/*/package.json ./packages/*/\n\n# Install dependencies\nRUN yarn install --frozen-lockfile\n\n# Copy source code\nCOPY . .\n\n# Build the application\nRUN yarn build\n\n# Expose port\nEXPOSE 3000\n\n# Set environment to production\nENV NODE_ENV=production\n\n# Start the application\nCMD ["node", "dist/index.js"]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"deployment-steps",children:"Deployment Steps"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Build the Docker image: ",(0,i.jsx)(n.code,{children:"docker build -t tooljump ."})]}),"\n",(0,i.jsxs)(n.li,{children:["(Optional) Push the image to your container registry (e.g., Docker Hub, GitHub Container Registry):",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"docker tag tooljump your-username/tooljump:latest"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.code,{children:"docker push your-username/tooljump:latest"})]}),"\n",(0,i.jsxs)(n.li,{children:["Or run directly: ",(0,i.jsx)(n.code,{children:"docker run -p 3000:3000 --env-file .env your-username/tooljump:latest"})," (your .env file should contain the secrets for integrations as well as your github token and github connection details)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"benefits-of-docker-deployment",children:"Benefits of Docker Deployment"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Consistent environment across different systems"}),"\n",(0,i.jsx)(n.li,{children:"Easy scaling and orchestration"}),"\n",(0,i.jsx)(n.li,{children:"Simplified dependency management"}),"\n",(0,i.jsx)(n.li,{children:"Better isolation and security"}),"\n",(0,i.jsx)(n.li,{children:"Easy integration with container orchestration platforms (Kubernetes, Docker Swarm)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"kubernetes-deployment",children:"Kubernetes Deployment"}),"\n",(0,i.jsx)(n.p,{children:"For production deployments at scale, Kubernetes provides robust orchestration, scaling, and management capabilities."}),"\n",(0,i.jsx)(n.h3,{id:"prerequisites-1",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Kubernetes cluster (local with minikube/kind, or cloud provider like GKE, EKS, AKS)"}),"\n",(0,i.jsx)(n.li,{children:"kubectl configured to access your cluster"}),"\n",(0,i.jsx)(n.li,{children:"Docker image pushed to a container registry"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"basic-deployment",children:"Basic Deployment"}),"\n",(0,i.jsxs)(n.p,{children:["Create a ",(0,i.jsx)(n.code,{children:"k8s-deployment.yaml"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: tooljump\n  labels:\n    app: tooljump\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: tooljump\n  template:\n    metadata:\n      labels:\n        app: tooljump\n    spec:\n      containers:\n      - name: tooljump\n        image: your-username/tooljump:latest\n        ports:\n        - containerPort: 3000\n        env:\n        - name: NODE_ENV\n          value: "production"\n        - name: GITHUB_TOKEN\n          valueFrom:\n            secretKeyRef:\n              name: tooljump-secrets\n              key: github-token\n        - name: GITHUB_REPO_URL\n          valueFrom:\n            configMapKeyRef:\n              name: tooljump-config\n              key: github-repo-url\n        - name: GITHUB_REPO_PATH\n          valueFrom:\n            configMapKeyRef:\n              name: tooljump-config\n              key: github-repo-path\n        resources:\n          requests:\n            memory: "256Mi"\n            cpu: "250m"\n          limits:\n            memory: "512Mi"\n            cpu: "500m"\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: tooljump-service\nspec:\n  selector:\n    app: tooljump\n  ports:\n  - port: 80\n    targetPort: 3000\n  type: LoadBalancer\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: tooljump-config\ndata:\n  github-repo-url: "https://github.com/your-org/your-repo"\n  github-repo-path: "integrations"\n\n'})}),"\n",(0,i.jsx)(n.h3,{id:"deployment-steps-1",children:"Deployment Steps"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create the ConfigMap and Secret:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f k8s-deployment.yaml\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Better Secret Management"}),": Instead of storing secrets in YAML files, consider using:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"kubectl create secret generic tooljump-secrets --from-literal=github-token=your-token"})}),"\n",(0,i.jsx)(n.li,{children:"External secret management systems (AWS Secrets Manager, Azure Key Vault, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Sealed Secrets or External Secrets Operator for GitOps workflows"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Verify deployment:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get pods\nkubectl get services\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Access the service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl port-forward service/tooljump-service 3000:80\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ingress-configuration",children:"Ingress Configuration"}),"\n",(0,i.jsx)(n.p,{children:"For HTTPS and domain routing, add an Ingress resource:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: tooljump-ingress\n  annotations:\n    cert-manager.io/cluster-issuer: "letsencrypt-prod"\n    nginx.ingress.kubernetes.io/ssl-redirect: "true"\nspec:\n  tls:\n  - hosts:\n    - tooljump.yourdomain.com\n    secretName: tooljump-tls\n  rules:\n  - host: tooljump.yourdomain.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: tooljump-service\n            port:\n              number: 80\n'})}),"\n",(0,i.jsx)(n.h3,{id:"benefits-of-kubernetes-deployment",children:"Benefits of Kubernetes Deployment"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Automatic scaling based on demand"}),"\n",(0,i.jsx)(n.li,{children:"Rolling updates with zero downtime"}),"\n",(0,i.jsx)(n.li,{children:"Built-in health checks and self-healing"}),"\n",(0,i.jsx)(n.li,{children:"Resource management and limits"}),"\n",(0,i.jsx)(n.li,{children:"Service discovery and load balancing"}),"\n",(0,i.jsx)(n.li,{children:"Easy integration with monitoring and logging systems"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5357],{6246:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>g,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"writing-integrations/generic-context","title":"Generic context","description":"Learn how to use ToolJump\'s generic context to create integrations that work on any website or tool, not just specific platforms like GitHub or AWS.","source":"@site/docs/writing-integrations/generic-context.md","sourceDirName":"writing-integrations","slug":"/writing-integrations/generic-context","permalink":"/docs/writing-integrations/generic-context","draft":false,"unlisted":false,"editUrl":"https://github.com/tooljump/tooljump/tree/main/docs/docs/writing-integrations/generic-context.md","tags":[],"version":"current","frontMatter":{"id":"generic-context","title":"Generic context","keywords":["generic context","universal context","any website context","tooljump generic","context matching"],"description":"Learn how to use ToolJump\'s generic context to create integrations that work on any website or tool, not just specific platforms like GitHub or AWS."},"sidebar":"docsSidebar","previous":{"title":"When to Run (and contexts)","permalink":"/docs/writing-integrations/when-to-run"},"next":{"title":"Running code in an integration","permalink":"/docs/writing-integrations/integrations-code-execution"}}');var i=n(74848),r=n(28453);const s={id:"generic-context",title:"Generic context",keywords:["generic context","universal context","any website context","tooljump generic","context matching"],description:"Learn how to use ToolJump's generic context to create integrations that work on any website or tool, not just specific platforms like GitHub or AWS."},c="Generic context",a={},l=[{value:"Using the generic context",id:"using-the-generic-context",level:2},{value:"Step 1: Server configuration",id:"step-1-server-configuration",level:3},{value:"Step 2: Writing the integration",id:"step-2-writing-the-integration",level:3},{value:"Step 3: Giving the permission",id:"step-3-giving-the-permission",level:3}];function h(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"generic-context",children:"Generic context"})}),"\n",(0,i.jsx)(t.p,{children:"For now, the ToolJump Chrome Extensions knows how to read in-depth information from Github and AWS."}),"\n",(0,i.jsxs)(t.p,{children:["However, there are many tools out there where running ToolJump is valuable, and you can leverege that by using the ",(0,i.jsx)(t.strong,{children:"generic context"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["The generic context ",(0,i.jsx)(t.strong,{children:"only sends the URL from the browser"}),". Nothing more. And it is up to you to process it in the integration and decide on which page/section of the website you are and what results to return for that."]}),"\n",(0,i.jsx)(t.h2,{id:"using-the-generic-context",children:"Using the generic context"}),"\n",(0,i.jsx)(t.h3,{id:"step-1-server-configuration",children:"Step 1: Server configuration"}),"\n",(0,i.jsx)(t.p,{children:"Before you implement your first integration with generic context, you need to do a few changes to your configuration."}),"\n",(0,i.jsxs)(t.p,{children:["For the purpose of our tutorial, let's assume you want to run ToolJump on ",(0,i.jsx)(t.code,{children:"https://developer.hashicorp.com"})]}),"\n",(0,i.jsx)(t.p,{children:"In your main file, update:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"const config = DEFAULT_CONFIG;\n"})}),"\n",(0,i.jsx)(t.p,{children:"to"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"const config = DEFAULT_CONFIG;\nconfig.adapters.generic.urls = ['https://developer.hashicorp.com'];\n"})}),"\n",(0,i.jsxs)(t.p,{children:["This ensures the ToolJump server is accepting integrations using this website. ",(0,i.jsx)(t.strong,{children:"You need to restart your server after this change!"})]}),"\n",(0,i.jsx)(t.h3,{id:"step-2-writing-the-integration",children:"Step 2: Writing the integration"}),"\n",(0,i.jsxs)(t.p,{children:["Then, create your integration. The key part is defining the ",(0,i.jsx)(t.code,{children:"contextType: generic"})," and the ",(0,i.jsx)(t.code,{children:"url"}),":"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"module.exports = {\n    metadata: {\n        name: 'custom',\n        description: 'Adds Datadog to AWS Lambda functions',\n        match: {\n            contextType: 'generic',\n            context: {\n                url: { startsWith: 'https://developer.hashicorp.com' }\n            }\n        },\n        cache: 300,\n        requiredSecrets: []\n    },\n    async run(context, secrets = {}, dataFiles = []) {\n        // you can process the url by using context.url\n        return [{\n            type: 'text',\n            content: 'Hello from custom integration'\n        }];\n    }\n};\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Using ",(0,i.jsx)(t.code,{children:"startsWith"})," will ensure the integration will run on the homepage and any subpage of the website. If you want an exact match, use ",(0,i.jsx)(t.code,{children:"equals"})," instead."]}),"\n",(0,i.jsx)(t.h3,{id:"step-3-giving-the-permission",children:"Step 3: Giving the permission"}),"\n",(0,i.jsx)(t.p,{children:"Then, go to ToolJump's Settings -> Providers section where you will see the website listed there, as shown in the image below:"}),"\n",(0,i.jsx)("img",{src:"/img/generic-context-settings.png",alt:"ToolJump Providers Settings showing generic context website",width:"280px"}),"\n",(0,i.jsx)(t.p,{children:"Click on the toggle next to the website to enable. You will get the following pop-up from Chrome asking you to allow the action. Press allow to allow."}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)("img",{src:"/img/generic-context-allow.png",alt:"ToolJump Providers Settings showing generic context website",width:"480px"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"After that, refresh your current page and the ToolJump bar will appear."})]})}function g(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>c});var o=n(96540);const i={},r=o.createContext(i);function s(e){const t=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2586],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}},83262:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"writing-integrations/debugging","title":"Debugging","description":"Learn how to debug ToolJump integrations including logging, error handling, testing, and troubleshooting common integration issues.","source":"@site/docs/writing-integrations/debugging.md","sourceDirName":"writing-integrations","slug":"/writing-integrations/debugging","permalink":"/docs/writing-integrations/debugging","draft":false,"unlisted":false,"editUrl":"https://github.com/tooljump/tooljump/tree/main/docs/docs/writing-integrations/debugging.md","tags":[],"version":"current","frontMatter":{"id":"debugging","title":"Debugging","sidebar_label":"Debugging","keywords":["debugging integrations","integration troubleshooting","tooljump debugging","integration logs","error handling"],"description":"Learn how to debug ToolJump integrations including logging, error handling, testing, and troubleshooting common integration issues."},"sidebar":"docsSidebar","previous":{"title":"Data","permalink":"/docs/writing-integrations/data"},"next":{"title":"Developer Experience","permalink":"/docs/developer-experience"}}');var s=t(74848),o=t(28453);const r={id:"debugging",title:"Debugging",sidebar_label:"Debugging",keywords:["debugging integrations","integration troubleshooting","tooljump debugging","integration logs","error handling"],description:"Learn how to debug ToolJump integrations including logging, error handling, testing, and troubleshooting common integration issues."},a="Debugging Integrations",l={},c=[{value:"Checklist",id:"checklist",level:2},{value:"Setup",id:"setup",level:3},{value:"Integrations",id:"integrations",level:3},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:2},{value:"1. Integration Not Running",id:"1-integration-not-running",level:3},{value:"2. Context Matching Issues",id:"2-context-matching-issues",level:3},{value:"3. Runtime Errors",id:"3-runtime-errors",level:3},{value:"Debugging Tools",id:"debugging-tools",level:2},{value:"1. Browser Console",id:"1-browser-console",level:3},{value:"2. Integration Logging",id:"2-integration-logging",level:3},{value:"Testing Strategies",id:"testing-strategies",level:2},{value:"1. Test on Different Pages",id:"1-test-on-different-pages",level:3},{value:"Performance Debugging",id:"performance-debugging",level:2},{value:"1. Monitor Execution Time",id:"1-monitor-execution-time",level:3},{value:"2. Check Caching",id:"2-check-caching",level:3},{value:"Getting Help",id:"getting-help",level:2}];function g(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"debugging-integrations",children:"Debugging Integrations"})}),"\n",(0,s.jsx)(n.p,{children:"When your integration isn't working as expected, debugging can help you identify and fix the issue. This guide covers various debugging techniques and common problems you might encounter."}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Enable debug logging when investigating issues (both in the ToolJump server config and in the Debug tab of the Chrome extension\u2019s settings)"}),"\n",(0,s.jsx)(n.li,{children:"Try to reproduce the issue locally, so you can iterate on integrations quickly"}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"checklist",children:"Checklist"}),"\n",(0,s.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.p,{children:"Before debugging, please check the setup is correct:"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","The ToolJump server started successfully and you can see a message like ",(0,s.jsx)(n.code,{children:"ToolJump server started and listening on port ..."})," in the logs"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","The URL of the ToolJump server is accessible (the default route should output ",(0,s.jsx)(n.code,{children:"Authorization header required"}),")"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","If hosting in production with HTTPS, make sure the certificate is properly configured"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","The latest version of the ToolJump Chrome Extension is installed"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","In the Chrome Extension's ",(0,s.jsx)(n.strong,{children:"Connection"})," tab:","\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","the ",(0,s.jsx)(n.strong,{children:"Host"})," field is set to the url of the ToolJump Server (including http/https). Example: ",(0,s.jsx)(n.code,{children:"http://localhost:3000"})," for local."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","the ",(0,s.jsx)(n.strong,{children:"Secure token"})," field is populated with a secret string, which is also defined in the ToolJump Server"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","The ",(0,s.jsx)(n.strong,{children:"Providers"})," tab in the extension's settings shows the active adapters (e.g., AWS, GitHub)"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","There is at least an integration being loaded in ToolJump Server (check presence of ",(0,s.jsx)(n.code,{children:"Loaded _ integrations and _ data files"})," in server logs). If there are no integrations, ToolJump can't show any insights"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"integrations",children:"Integrations"}),"\n",(0,s.jsx)(n.p,{children:"If a specific integration does not work as expected, check:"}),"\n",(0,s.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","The website you are entering is either AWS, GitHub, or a URL you specified in an integration using a Generic context."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Check the integration file ends in ",(0,s.jsx)(n.code,{children:".integration.js"})," and you can find a debug log in the Server like ",(0,s.jsx)(n.code,{children:"Successfully loaded integration ___.integration.js"}),". If you don't, ToolJump is not loading the file correctly due to incorrect folder or lack of access."]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Check match metadata field to ensure it matches the context/page correctly"]}),"\n",(0,s.jsxs)(n.li,{className:"task-list-item",children:[(0,s.jsx)(n.input,{type:"checkbox",disabled:!0})," ","If the extension's debug mode is enabled, and you see the context panel in the bottom right of the page, but you don't see the context bar, it's likely that the integration does not match, or the context bar rendering fails"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,s.jsx)(n.h3,{id:"1-integration-not-running",children:"1. Integration Not Running"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem:"})," Your integration doesn't appear on the expected pages."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Check these first:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Verify the file has the ",(0,s.jsx)(n.code,{children:".integration.js"})," extension"]}),"\n",(0,s.jsx)(n.li,{children:"Ensure the file is in the correct integrations directory"}),"\n",(0,s.jsxs)(n.li,{children:["Check that your ",(0,s.jsx)(n.code,{children:"match"})," criteria are correct"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Debug steps:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Add logging to see if your integration is being loaded\nmodule.exports = {\n    metadata: {\n        name: 'debug-example',\n        description: 'Debug integration',\n        match: {\n            contextType: 'github'\n        }\n    },\n    run: async function (context) {\n        logger.info('Integration running with context:', context);\n        \n        // Check what context data is available\n        logger.info('Available context keys:', Object.keys(context));\n        \n        return [\n            {\n                type: 'text',\n                content: 'Debug: Integration is running!'\n            }\n        ];\n    }\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-context-matching-issues",children:"2. Context Matching Issues"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem:"})," Integration runs on wrong pages or doesn't run when expected."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Debug context matching:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"match: {\n    contextType: 'github',\n    context: {\n        // Add logging to see what values are available\n        'page.repository': { exists: true }\n    }\n},\nrun: async function (context) {\n    // Log the full context to see what's available\n    logger.info(context, 'Full context:');\n    \n    // Check specific properties\n    if (context.page) {\n        logger.info(context.page, 'Page context:');\n    }\n    \n    return [\n        {\n            type: 'text',\n            content: `Debug: Repository: ${context.page?.repository || 'undefined'}`\n        }\n    ];\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-runtime-errors",children:"3. Runtime Errors"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem:"})," Integration crashes or throws errors."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Add error handling:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"run: async function (context) {\n    try {\n        // Your integration logic here\n        const result = await someAsyncOperation();\n        \n        return [\n            {\n                type: 'text',\n                content: `Success: ${result}`\n            }\n        ];\n    } catch (error) {\n        logger.error(error, 'Integration error:');\n        \n        // Return error information for debugging\n        return [\n            {\n                type: 'text',\n                content: `Error: ${error.message}`\n            }\n        ];\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"debugging-tools",children:"Debugging Tools"}),"\n",(0,s.jsx)(n.h3,{id:"1-browser-console",children:"1. Browser Console"}),"\n",(0,s.jsx)(n.p,{children:"The browser console is your primary debugging tool:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Open DevTools:"})," Press ",(0,s.jsx)(n.code,{children:"F12"}),' or right-click and select "Inspect"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check Console tab:"})," Look for errors, warnings, and your log output"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check Network tab:"})," Monitor API calls and see if requests are failing (e.g., the ",(0,s.jsx)(n.code,{children:"/context"})," call to the ToolJump server)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-integration-logging",children:"2. Integration Logging"}),"\n",(0,s.jsx)(n.p,{children:"Add strategic logging to understand execution flow:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"run: async function (context) {\n  logger.info('=== Integration Start ===');\n  logger.info(`Context type: ${context.type}`);\n  logger.info(`URL: ${context.url}`);\n\n  if (context.page) {\n    logger.info(context.page, 'Page data:');\n  }\n\n  // Your logic here\n  const result = await processData(context);\n  logger.info(result, 'Processed result:');\n\n  logger.info('=== Integration End ===');\n  return result;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"testing-strategies",children:"Testing Strategies"}),"\n",(0,s.jsx)(n.h3,{id:"1-test-on-different-pages",children:"1. Test on Different Pages"}),"\n",(0,s.jsx)(n.p,{children:"Test your integration on various pages to ensure it works correctly:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitHub:"})," Different repository pages, user profiles, issue pages"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AWS:"})," Different service consoles, regions, account contexts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generic:"})," Different domains and URL patterns"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"performance-debugging",children:"Performance Debugging"}),"\n",(0,s.jsx)(n.h3,{id:"1-monitor-execution-time",children:"1. Monitor Execution Time"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"run: async function (context) {\n    const startTime = Date.now();\n    \n    // Your integration logic here\n    const result = await someOperation();\n    \n    const endTime = Date.now();\n    const duration = endTime - startTime;\n    \n    logger.info(`Integration took ${duration}ms`);\n    \n    return result;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-check-caching",children:"2. Check Caching"}),"\n",(0,s.jsx)(n.p,{children:"If your integration uses caching, verify it's working:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Check if cache is being used\nrun: async function (context) {\n  const cacheKey = `my-integration-${context.page?.repository}`;\n\n  let data = await cache.get(cacheKey);\n  if (data) {\n    logger.info('Using cached data');\n    return data;\n  }\n\n  logger.info('Fetching fresh data');\n  data = await fetchData();\n\n  await cache.set(cacheKey, data, 300); // Cache for 5 minutes\n  return data;\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,s.jsx)(n.p,{children:"When debugging becomes challenging:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Check the logs:"})," Look for error messages and stack traces"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simplify:"})," Remove complex logic to isolate the issue"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Compare:"})," Look at working integrations for reference"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Document:"})," Keep notes on what you've tried and what worked"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}}}]);